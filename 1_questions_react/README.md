## React

React - библиотека для создания пользователских интерфейсов. Позволяет строить приложения, используя компонентный подход.<br>
Основные преимущества:
1. Оптимизация процесса отрисовки.
2. Можно использовать на клиенте и на сервере.
3. React не привязан к платформе.
4. В React есть JSX синтаксисю
5. Можно интегрировать с другими фреймворками.
6. Легко писать Unit-тесты.
Ограничения:
1. React служит для отрисовки и рендеринга интерфейсов и не является комплексным решением.
2. Может быть сложным для начинающим и требовать время на освоение.

## JSX

JSX - специальный синтаксис JavaScript, который позволяет в нем использовать HTML.

## Virtual DOM в React

Самая затратная операция в JS - работа с DOM-деревом. Если приложение интерактивное и в нем много взаимодействий, то оно может начать тормозить.<br>
Решением от facebook стал Virtual DOM - JS объект - копия реального DOM. В случае, когда происходит изменение состояния компонента он помечается как "грязный" внутри структуры VDOM, а затем React сравнивает новую получившуюся структуру со старым VDOM. В ней находятся необходимые изменения и вносятся в реальный DOM.<br>
Кроме того, начиная с React версии 16 этот механизм стал асинхронным.

## Props

Сокращение от properties (свойства). Это некоторые данные, которые передаются от родительского компонента к дочернему, таким образом обеспечивая их взаимодействие.

## State

Объект, содержащий данные, привязанные к компоненту. State является мутабельным. Когда он изменяется, React это замечает и отрисовывает обновленный интерфейс.

## Refs

Ссылки на DOM элементы внутри компонентов. Используется для текста, анимации, взаимодействия со сторонними библиотеками.

## JEST

JavaScript фреймворк для Unit-тестирования.

## Когда следует использовать class-компоненты, а когда функциональные?

Если компонент используется только для отрисовки какого-либо интерфейса, то лучше сделать его функциональным. В таком случае он будет потреблять меньше ресурсов. Если компонент более сложный, которому необходим доступ к жизненному циклу компонента, то лучше использовать class-компоненты.

## Что происходит после вызова setState?

В первую очередь React получает объект в функцию setState и соединяет ее с прошлым объектом. После этого получается новый state, изменившийся компонент помечается и создается новый VDOM. После этого получившееся дерево сравнивается с прошлым и на основе изменении обновляется реальный DOM.

## В чем разница между state и props?

State - внутренняя структура данных для компонентов с каким-то значением, а props - данные, используемые для обмена информацией между компонентами.

## Когда следует делать асинхронные запросы на сервер?

В классическом представлении для этого используется метод жизненного цикла React - componentDidMount.

## В чем смысл специального атрибута key?

Данный атрибут позволяет React регулировать состояние каждого элемента в массиве.

## Что значит компонент mounted?

Это значит, что компонент встроен в DOM-дерево.

## Разница между контроллируемым и неконтроллируемым компонентом.

Контроллируемый компонент - с присутствующим state, который обновляется после каких-то действий (например, нажатие кнопки).<br>
Неконтроллируемый компонент - в нем такжже присутствует state, но мы его не обрабатываем (например, textarea, где можно что-то вписывать, но не взаимодействовать со state).

## Что такое фрагменты?

Специальный React-элемент, который позволяется избавиться от корневого элемента шаблона.

## Как React обрабатывает пользователские события?

1. Во всем приложении может быть множество событий, например, кликов. Однако React не добавляет много кликов, он добавляет только один обработчик на приложение и дальше уже понимает, по какому элементу был сделан клик или какое-нибудь другое событие.
2. Когда мы получаем какое-то событие (event), React поставляет свою специальную обертку - SyntheticEvent с общим API для разных браузеров.

## Что такое Redux?

В сложном приложении нужен еще один абстрактный слой для работы с данными. Redux - решение позволяющее работать с потоком данных, идущим отдельно от самого приложения. С помощью такой библиотеки как react-redux можно связывать данные и приложение.<br>
Еще один нюанс Redux - то что для хранения всего состояния используется один специальный объект.

## Основные этапы жизненного цикла компонента.

1. Initialization (setup props and state): constructor
2. Mounting: will mount -> render -> did mount
3. Updation.<br>
**Props**: will recieve props -> should update -> will update -> render -> did update<br>
**State**: should update -> will update -> render -> did update
4. Unmounting: will unmount

## В метод setState можно передавать объект или функцию? В чем разница и что лучше использовать?

По умолчанию передается только объект, но приэтом можно передать функцию, принимающую предыдущий state. В случае использования функции на основе прошлого состояния можно сформировать новое.<br>
Props и State в React работают асинхронно, поэтому переданный объект в state не гарантирует, что вы будете работать с предыдущим состоянием. Для уверенности в работе с предыдущим состоянием, в State надо передавать функцию.

## Презентационный компонент и контейнер-компонент.

Презентационный компонент - говорящие как все должно выглядеть. Обычно работают на пропсах и просто рисуют интерфейс.<br>
Контейнеры - говорят как все должно работать и обычно содержат различную информацию о состояний и поведения, а также раздают различные свойства (props).

## Что такое Context?

React.createContext(defaultValue) - метод в реакте, который может использоваться с Context.Provider или Context.Consumer. Цепочка дочерних компонентов может быть достаточно большой. Чтобы передать какое-то состояние на большой уровень вложенности (например, цветовая тема), можно использовать как раз контекст. С его помощью не нужно идти по древовидной структуре, данные можно получить в Context.Consumer из Context.Provider.

## Что такое Higher-Order Component (HOC)

Паттерн, который активно используется в React. По сути - это функция, которая принимает компонент и добавляет какой-то функционал. На выходе такая функция возвращает тот же компонент с расширенными возможностями.

## Что делает метод shouldComponentUpdate и почему он важен?

Этот метод служит для оптимизации рендеринга React. В нем прописываются условия от которых зависит будет ли компонент обновляться. Если метод возвращает true, то рендеринг происходит, а если false - то нет. Принимает в качестве параметров этот метод nextProps и nextState.<br>
Также в React есть PureComponent, который автоматически реализует shouldComponentUpdate. А для функциональных компонентов - функция React.memo.

## Что такое store в Redux?

По сути обычный JS объект, который содержит в себе состояние приложения. И у store в Redux присутствует небольшое количество методов, которые позволяют взаимодействовать с Redux.
Например, getState - для получения состояния, dispatch - для изменения состояния, subscribe - для подписи на обновления.

## Что такое action в Redux?

Это JS объект, у которого должно быть поле type в строковом значений, которая объясняет, что делает данный action. То есть при вызове dispatch мы как раз складываем туда определенный action.

## Что нельзя делать в методе render?

Это должна быть обычная функция (pure function), которая никак не меняет состояние. В случае setState в рендере произойдет рекурсия. То есть в render должен возвращаться обычный jsx.

## Какие типы middleware есть в redux для работы с асинхронностью?

Redux: thunk, promise, saga.

## Что такое PureComponents?

По умолчанию мы наследуемся от React.Component, но если мы наследуемся от PureComponent, то React автоматически оптимизирует компонент подобно тому, если использовать shouldComponentUpdate. Важно заметить, что в случае если компонент соединен с Redux посредством функции connect, то он становится PureComponent.

## Почему нельзя изменять state напрямую?

Если мы напрямую изменим state, то не будет происходить процесс ререндеринга и React потеряет смысл, поэтому надо использовать setState.

## Как изменить state, используя динамический ключ?

```js
inputChangeHandler(event) {
    this.setState({
        [event.target.name]: event.target.value
    })
}
```

То есть если присутствует какое-то количество input-ов, то писать обработчик для кадого неэффективно. Для этого можно использовать динамические ключи в state.

## Что такое Error Boundaries в React?

React-компонент, который реализует componentDidCatch.

```js
componentDidCatch(error, errorInfo) {
    logErrorToMyService(error, errorInfo)
}
```

## Что такое React Hooks?

Функции, которые дают доступ к возможностям React внутри функциональных компонентов.

## В чем разница между useRef и createRef?

Функция createRef может быть использована в классовых компонентах. Она возвращает новую ссылку.<br>
Функция useRef создает объект, который не изменяется в процессе рендера функционального компонента. То есть при использовании useRef всегда получается состояние, заданное при первоначальном рендере. Приэтом, если мы захотим изменить это состояние, то процесса рендера не произойдет.

## Что такое useState?

Функция для менеджмента состояния (React-hook).

## Что такое prop drilling и как этого избежать?

Это передача данных с помощью props через большое количество компонентов. Чтобы избежать этого можно использовать context, redux, flux и т.д.

## Как валидировать props в React?

Можно это делать с помощью библиотеки prop-types.

## Зачем делать eject?

eject - скрипт в create-react-app, который позволяет получить доступ к конфигурации и настроить ее на свое усмотрение.

## Что такое reducer?

Функция, принимающая state и action, а также возвращающая измененный state, если это необходимо. Относится это к Redux.

## Разница между Flux и MVC.

MVC - паттерн, который имеет некоторые проблемы при работе с данными (сложная цепочка взаимодействия между данными и отображением). Также в MVC сложно предсказывать где изменятся данные. Flux - модель, отделяющая данные от отображения.

## Что не так с этим кодом?

```js
this.setState((prevState, props) => {
    return {
        counter: prevState.counter + props.counter
    }
})
```

Здесь все нормально. Просто в setState передана функция для работы с предыдущим состоянием и props, а не объект.

## Второй опциональный параметр setState.

Функция, которая будет вызвана после изменения состояния.

## Что такое mapStateToProps и mapDispatchToProps

Две функции из Redux, которые помогают работать с состоянием Redux.

## Что такое React Fiber?

Это новый механизм согласования в React, цель которого сделать рендеринг DOM инкрементным.

## Разница между Flow и PropTypes.

PropTypes - инструмент для проверки типов свойств компонента в runtime. Flow - инструмент для статического анализа типов (аналог Flow - TypeScript).

## Правда ли, что React делает ре-рендер всех компонентов и дочерних компонентов каждый раз, когда вызывается setState?

По умолчанию - да, но этим можно управлять, например, с помощью метода shouldComponentUpdate.

## Как можно улучшить производительность React-приложения.

shouldComponentUpdate, PureComponent, React.memo

## Зачем нужен Redux Thunk

По умолчанию изменение store в Redux происходит синхронным путем, но бывают ситуации, когда это необходимо сделать асинхронно, например, ожидая ответа с сервера. Для этого используется Redux Thunk, который позволяет асинхронно изменять состояние в приложении. Реализовано это при помощи action creators (функции, позволяющие создавать actions). Они возвращают функцию, принимающую параметр dispatch. С помощью этой функции модифицируется state.

## В чем ключевое отличие, например, между React и Angular (Vue/Ember etc.)

React - библиотека исключительно для создания интерфейсов. Для данных мы подключаем Redux, для форм пакет для форм и т.д. Angular - больше, чем инструмент для создания интерфейсов - это большая структура, содержащая перечисленные возможности внутри себя.<br>
"React - рисует, Angular - предоставляет большое количество инструментов для создания приложения целиком."<br>
Преимущество Angular в данном случае - похожесть каждого нового проекта, по сравнению с React, где инфраструктура может значительно отличаться от проекта к проекту.